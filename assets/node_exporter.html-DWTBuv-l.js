import{_ as n,c as a,e,o as l}from"./app-Br-LFPki.js";const t={};function p(i,s){return l(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="下载并安装" tabindex="-1"><a class="header-anchor" href="#下载并安装"><span>下载并安装</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 下载并安装</span></span>
<span class="line"><span class="token function">wget</span> <span class="token parameter variable">-c</span> https://github.com/prometheus/node_exporter/releases/download/v1.9.1/node_exporter-1.9.1.linux-amd64.tar.gz</span>
<span class="line"><span class="token function">tar</span> xzf node_exporter-*.tar.gz</span>
<span class="line"><span class="token function">mv</span> node_exporter-*/node_exporter /usr/local/bin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 默认采集的指标非常多。这边指定采集关注的指标</span></span>
<span class="line">node_exporter <span class="token punctuation">\\</span></span>
<span class="line">  --collector.disable-defaults <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.cpu</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.meminfo</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.diskstats</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.netdev</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.filesystem</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--collector.loadavg</span> <span class="token punctuation">\\</span></span>
<span class="line">  --collector.filesystem.mount-points-exclude<span class="token operator">=</span><span class="token string">&#39;^/(dev|proc|sys|run|var/lib/(docker|kubelet)).+($|/)&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line">  --web.listen-address<span class="token operator">=</span>:9100 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--log.level</span><span class="token operator">=</span><span class="token string">&quot;warn&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>node_exporter.service:</p><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini"><pre><code class="language-ini"><span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Unit</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">Description</span><span class="token punctuation">=</span><span class="token value attr-value">Node Exporter</span></span>
<span class="line"><span class="token key attr-name">After</span><span class="token punctuation">=</span><span class="token value attr-value">network.target</span></span>
<span class="line"></span>
<span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Service</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">User</span><span class="token punctuation">=</span><span class="token value attr-value">prometheus</span></span>
<span class="line"><span class="token key attr-name">Group</span><span class="token punctuation">=</span><span class="token value attr-value">prometheus</span></span>
<span class="line"><span class="token key attr-name">ExecStart</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/local/bin/node_exporter \\</span></span>
<span class="line">    --collector.disable-defaults \\</span>
<span class="line">    --collector.cpu \\</span>
<span class="line">    --collector.meminfo \\</span>
<span class="line">    --collector.diskstats \\</span>
<span class="line">    --collector.netdev \\</span>
<span class="line">    --collector.filesystem \\</span>
<span class="line">    --collector.loadavg \\</span>
<span class="line">    <span class="token key attr-name">--collector.filesystem.mount-points-exclude</span><span class="token punctuation">=</span><span class="token value attr-value">&#39;^/(dev|proc|sys|run|var/lib/(docker|kubelet)).+($|/)&#39; \\</span></span>
<span class="line">    <span class="token key attr-name">--web.listen-address</span><span class="token punctuation">=</span><span class="token value attr-value">:9100 \\</span></span>
<span class="line">    <span class="token key attr-name">--log.level</span><span class="token punctuation">=</span><span class="token value attr-value">warn</span></span>
<span class="line"><span class="token key attr-name">Restart</span><span class="token punctuation">=</span><span class="token value attr-value">on-failure</span></span>
<span class="line"></span>
<span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Install</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">WantedBy</span><span class="token punctuation">=</span><span class="token value attr-value">multi-user.target</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常用参数" tabindex="-1"><a class="header-anchor" href="#常用参数"><span>常用参数</span></a></h2><p>--web.listen-address​​ 指定监听地址和端口（默认 :9100）可按需更改 ​​--log.level​​ 设置日志级别（如 warn）生产环境建议调高，减少日志输出 --collector.disable-defaults 禁用所有默认收集器</p><ul><li>常用指标：</li></ul><ol><li>--collector.cpu​​ 采集 CPU 使用时间（各模式）​启用​​，核心指标 ​​2. --collector.meminfo​​ 采集内存使用情况 ​​启用​​，核心指标 ​​3. --collector.diskstats​​ 采集磁盘 I/O 统计信息 ​启用​​，核心指标 ​​4. --collector.netdev​​ 采集网络设备统计信息（流量、错误包等） ​启用​​，核心指标 ​​5. --collector.filesystem​​ 采集文件系统磁盘空间使用情况 ​启用​​，核心指标 ​6. --collector.loadavg​​ 采集系统平均负载 ​启用​​，核心指标</li><li>--collector.netstat 网络统计收集器</li></ol>`,10)])])}const o=n(t,[["render",p]]),r=JSON.parse('{"path":"/devops/grafana/node_exporter.html","title":"","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1758270378000,"contributors":[{"name":"Hankin","username":"Hankin","email":"554553400@qq.com","commits":1,"url":"https://github.com/Hankin"}],"changelog":[{"hash":"bc20da81a1971a270a7c4ec4ac9831e50554cff9","time":1758270378000,"email":"554553400@qq.com","author":"Hankin","message":"UPDATE grafana prometheus"}]},"filePathRelative":"devops/grafana/node_exporter.md"}');export{o as comp,r as data};
