import{_ as s,c as n,e,o as t}from"./app-BYrMmdPN.js";const p={};function l(r,a){return t(),n("div",null,[...a[0]||(a[0]=[e(`<h2 id="httrack介绍" tabindex="-1"><a class="header-anchor" href="#httrack介绍"><span>HTTrack介绍</span></a></h2><p>HTTrack是一个免费的离线浏览器工具，可以将整个网站下载到本地，让你在没有网络时也能浏览。它通过递归抓取，保留网站的目录和链接结构，就像一个本地的网站“镜像”</p><p>下载页面：https://www.httrack.com/page/2/en/index.html</p><p>从源码自己构建：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> clone https://github.com/xroche/httrack.git <span class="token parameter variable">--recurse</span></span>
<span class="line"><span class="token builtin class-name">cd</span> httrack</span>
<span class="line"><span class="token comment"># ./configure --prefix=$HOME/usr &amp;&amp; make -j8 &amp;&amp; make install</span></span>
<span class="line">./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token parameter variable">-j8</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span>/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="httrack使用" tabindex="-1"><a class="header-anchor" href="#httrack使用"><span>HTTrack使用</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"></span>
<span class="line">httrack <span class="token string">&quot;https://example.com&quot;</span> <span class="token parameter variable">-O</span> <span class="token string">&quot;./my_site_mirror&quot;</span> <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">5</span> <span class="token parameter variable">--robots</span><span class="token operator">=</span><span class="token number">0</span> <span class="token parameter variable">-A10000000</span> <span class="token parameter variable">-c8</span> -%v --disable-security-limits --keep-alive <span class="token parameter variable">--referer</span> <span class="token string">&quot;https://example.com&quot;</span> +<span class="token string">&quot;*.example.com/*&quot;</span> -<span class="token string">&quot;*/forum/*&quot;</span> -*.zip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>--robots=0 忽略 robots.txt，不遵循爬虫君子协议。</p><p>-O &quot;./my_site_mirror&quot; 指定本地存储目录</p><p>-A10000000：允许下载小于10MB的大文件（如图片、文档）。</p><p>-c8：使用8个连接加速。</p><p>--referer &quot;https://example.com&quot;：为所有请求设置来源页，可突破部分防盗链。</p><p>--disable-security-limits：绕过一些可能导致下载中断的系统限制</p><h3 id="精细控制" tabindex="-1"><a class="header-anchor" href="#精细控制"><span>精细控制</span></a></h3><p>+&quot;<em>.example.com/</em>&quot;：强制抓取来自 example.com 及其子域的所有资源，这是解决跨域图床问题的关键。</p><p>-&quot;<em>/forum/</em>&quot;：排除forum目录。</p><p>-*.zip：排除所有ZIP文件。</p><h2 id="使用wget命令下载整站镜像" tabindex="-1"><a class="header-anchor" href="#使用wget命令下载整站镜像"><span>使用wget命令下载整站镜像</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 整站镜像：使用-m选项镜像整个网站，相当于-r -N -l inf -nr的组合。</span></span>
<span class="line"><span class="token comment"># 此命令会镜像整个网站，并遵守robots.txt规则</span></span>
<span class="line"><span class="token function">wget</span> <span class="token parameter variable">-m</span> https://example.com</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 以下命令会镜像整个网站，转换链接为相对链接，并下载完整页面所需的所有元素：</span></span>
<span class="line"><span class="token comment"># 使用-p选项可以下载显示完整页面所需的所有元素（如图片、CSS、JS等）。</span></span>
<span class="line"><span class="token comment"># 使用-k选项可以在下载后转换文档中的链接，使其适合本地离线浏览。</span></span>
<span class="line"><span class="token function">wget</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-k</span> <span class="token parameter variable">-p</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">robots</span><span class="token operator">=</span>off <span class="token parameter variable">--header</span><span class="token operator">=</span><span class="token string">&quot;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36&quot;</span> https://example.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)])])}const c=s(p,[["render",l]]),o=JSON.parse('{"path":"/net/httrack.html","title":"","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1768276081000,"contributors":[{"name":"Hankin","username":"Hankin","email":"554553400@qq.com","commits":1,"url":"https://github.com/Hankin"}],"changelog":[{"hash":"4d086745aaecc8a14c95bb708f3eb331d5608433","time":1768276081000,"email":"554553400@qq.com","author":"Hankin","message":"ADD net/httrack"}]},"filePathRelative":"net/httrack.md"}');export{c as comp,o as data};
