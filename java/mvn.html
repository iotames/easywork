<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>沙滩星空的博客</title><meta name="description" content="金于沙里得，玉向石中求。个人博客主要是工作和学习的备忘笔记，包含开发与运维的提效脚本工具。">
    <link rel="preload" href="/easywork/assets/style-83awN4KY.css" as="style"><link rel="stylesheet" href="/easywork/assets/style-83awN4KY.css">
    <link rel="modulepreload" href="/easywork/assets/app-BzD7cbQj.js"><link rel="modulepreload" href="/easywork/assets/mvn.html-BlKfiTR-.js">
    <link rel="prefetch" href="/easywork/assets/index.html-D-pHNfNE.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-CFwcnW39.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-B4J7X4Ap.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-6jjBzX68.js" as="script"><link rel="prefetch" href="/easywork/assets/gcc.html-B3B7hEZA.js" as="script"><link rel="prefetch" href="/easywork/assets/makefile-cmake-xmake.html-CQAfMFry.js" as="script"><link rel="prefetch" href="/easywork/assets/xxd.html-BuUWg2fy.js" as="script"><link rel="prefetch" href="/easywork/assets/echarts-bar.html-BucylIA5.js" as="script"><link rel="prefetch" href="/easywork/assets/quick_run.html-DYENyjyE.js" as="script"><link rel="prefetch" href="/easywork/assets/screenshot.html-BcZ0GpCy.js" as="script"><link rel="prefetch" href="/easywork/assets/windows_remote_desktop.html-oH0k9hrs.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-CX3E8RPw.js" as="script"><link rel="prefetch" href="/easywork/assets/buildexe.html-CNdrH9f9.js" as="script"><link rel="prefetch" href="/easywork/assets/bytebase.html-C2FZC5_4.js" as="script"><link rel="prefetch" href="/easywork/assets/logrotate.html-BuTPoSz4.js" as="script"><link rel="prefetch" href="/easywork/assets/redis.html-Be2BqNbJ.js" as="script"><link rel="prefetch" href="/easywork/assets/setenv.html-BrCJ5nwy.js" as="script"><link rel="prefetch" href="/easywork/assets/sonarqube.html-oHAjr_hq.js" as="script"><link rel="prefetch" href="/easywork/assets/spug.html-BxwbcFyw.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-CAw6lgH6.js" as="script"><link rel="prefetch" href="/easywork/assets/datastruct.html-DeMSV68p.js" as="script"><link rel="prefetch" href="/easywork/assets/erpsysarch.html-B-NRkaF8.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-CNA_ip10.js" as="script"><link rel="prefetch" href="/easywork/assets/proxy.html-B7wuB1is.js" as="script"><link rel="prefetch" href="/easywork/assets/registry.html-phD8AnWP.js" as="script"><link rel="prefetch" href="/easywork/assets/volumes.html-Dnh_Dq3x.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-Bd431i98.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle.html-IxVpRHuL.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle_conf.html-Bs1aWrDi.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle_issue.html-CDoSEkVo.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle_select.html-u2jWnhjI.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle_spoon.html-CPaBp0Re.js" as="script"><link rel="prefetch" href="/easywork/assets/kettle_usage.html-CsPOPh4t.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-GBv0oRLj.js" as="script"><link rel="prefetch" href="/easywork/assets/gitflow.html-7LcFdZAI.js" as="script"><link rel="prefetch" href="/easywork/assets/gittag.html-BYpye5Z2.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-WZcZgWEF.js" as="script"><link rel="prefetch" href="/easywork/assets/cross_build.html-ByAW32B3.js" as="script"><link rel="prefetch" href="/easywork/assets/dialog_file.html-XfN_XT_G.js" as="script"><link rel="prefetch" href="/easywork/assets/httpproxy_svr.html-cjISBiaa.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-Bnwfn1T7.js" as="script"><link rel="prefetch" href="/easywork/assets/conf.html-CfDr_QpF.js" as="script"><link rel="prefetch" href="/easywork/assets/envformvn.html-B4X8fvgL.js" as="script"><link rel="prefetch" href="/easywork/assets/jwt.html-DMCqI--2.js" as="script"><link rel="prefetch" href="/easywork/assets/nexus.html-DxlQ9m4O.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-C2O0NwXV.js" as="script"><link rel="prefetch" href="/easywork/assets/disk.html-B1V7ZxSP.js" as="script"><link rel="prefetch" href="/easywork/assets/ssh.html-Brd17tP9.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-DkU3NbTu.js" as="script"><link rel="prefetch" href="/easywork/assets/location.html-8iRuEr_l.js" as="script"><link rel="prefetch" href="/easywork/assets/nginxui.html--jTS_kcY.js" as="script"><link rel="prefetch" href="/easywork/assets/realip.html-B7u678Fl.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-Bln_dhbg.js" as="script"><link rel="prefetch" href="/easywork/assets/httpheader.html-gmbagDP-.js" as="script"><link rel="prefetch" href="/easywork/assets/netlayer.html-Cx0L7xln.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-psV4PB8t.js" as="script"><link rel="prefetch" href="/easywork/assets/docs.html-DOmArj-X.js" as="script"><link rel="prefetch" href="/easywork/assets/n8n.html-ChaAg8Bu.js" as="script"><link rel="prefetch" href="/easywork/assets/nvm.html-BYGvN_w_.js" as="script"><link rel="prefetch" href="/easywork/assets/jekyll.html-DPpR0j33.js" as="script"><link rel="prefetch" href="/easywork/assets/add_index.html-DaTNC5kf.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BmCtS8Od.js" as="script"><link rel="prefetch" href="/easywork/assets/role.html-BlBdp0MP.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-Cgobt-xw.js" as="script"><link rel="prefetch" href="/easywork/assets/issue.html-D151Pu53.js" as="script"><link rel="prefetch" href="/easywork/assets/runner.html-BzUy8UlZ.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-CDUO5al1.js" as="script"><link rel="prefetch" href="/easywork/assets/dashboards.html-HAkwVv-D.js" as="script"><link rel="prefetch" href="/easywork/assets/loki_nginx.html-BQtxORQW.js" as="script"><link rel="prefetch" href="/easywork/assets/node_exporter.html-C9QQU1vR.js" as="script"><link rel="prefetch" href="/easywork/assets/prometheus.html-n8IZlW8a.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BbaXBTqQ.js" as="script"><link rel="prefetch" href="/easywork/assets/config.html-CI6inoge.js" as="script"><link rel="prefetch" href="/easywork/assets/errors.html-Dn6o9VMv.js" as="script"><link rel="prefetch" href="/easywork/assets/flowable.html-Cp93FLy6.js" as="script"><link rel="prefetch" href="/easywork/assets/inoutputs.html-DCTJTM7a.js" as="script"><link rel="prefetch" href="/easywork/assets/namespace.html-DHv-EjAR.js" as="script"><link rel="prefetch" href="/easywork/assets/scripts.html-k91Blz1N.js" as="script"><link rel="prefetch" href="/easywork/assets/triggers.html-B5FXuHL7.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-mCzjzVjU.js" as="script"><link rel="prefetch" href="/easywork/assets/start_docker.html-CgMSx8-b.js" as="script"><link rel="prefetch" href="/easywork/assets/taiga.html-BoDTAKpW.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BRvjzVQm.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-B6C9Wy-U.js" as="script"><link rel="prefetch" href="/easywork/assets/if.html-CUhH0qNg.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BrwC_wtA.js" as="script"><link rel="prefetch" href="/easywork/assets/journald.html-BnNgC3Df.js" as="script"><link rel="prefetch" href="/easywork/assets/jwt.html-CjjSPPkG.js" as="script"><link rel="prefetch" href="/easywork/assets/view_data.html-CrnRJCWA.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-B9UdppLs.js" as="script"><link rel="prefetch" href="/easywork/assets/404.html-CExLQhjj.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BZ4glKgq.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BUAAayLd.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-DXob_ZxE.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-21y9C4iX.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BHGYb71t.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-DToJcslx.js" as="script"><link rel="prefetch" href="/easywork/assets/index.html-BZ9vIXjH.js" as="script"><link rel="prefetch" href="/easywork/assets/SearchResult-CwAckwu5.js" as="script"><link rel="prefetch" href="/easywork/assets/mermaid.esm.min-DQB9uQ4N.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/easywork/"><!----><span class="vp-site-name" aria-hidden="true">沙滩星空的博客</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="slimsearch-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">搜索</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><!----><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h2 id="maven官方资源" tabindex="-1"><a class="header-anchor" href="#maven官方资源"><span>Maven官方资源</span></a></h2><ul><li>下载：<a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener noreferrer">https://maven.apache.org/download.cgi</a></li><li>安装：<a href="https://maven.apache.org/install.html" target="_blank" rel="noopener noreferrer">https://maven.apache.org/install.html</a></li><li>使用：<a href="https://maven.apache.org/run.html" target="_blank" rel="noopener noreferrer">https://maven.apache.org/run.html</a></li></ul><h2 id="安装maven" tabindex="-1"><a class="header-anchor" href="#安装maven"><span>安装Maven</span></a></h2><p>Maven 是 Java 的项目管理工具，可以对 Java 项目进行自动化的构建和依赖管理。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">wget -c https://dlcdn.apache.org/maven/maven-3/3.9.9/binaries/apache-maven-3.9.9-bin.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解压后，添加 <code>bin</code> 目录到 <code>PATH</code> 环境变量中，即可完成安装。</p><h2 id="基础命令" tabindex="-1"><a class="header-anchor" href="#基础命令"><span>基础命令</span></a></h2><h3 id="项目构建命令" tabindex="-1"><a class="header-anchor" href="#项目构建命令"><span>项目构建命令</span></a></h3><ol><li><code>mvn clean</code>: 清理项目，删除 <code>target</code> 目录下的编译输出内容。</li><li><code>mvn compile</code>: 编译项目源代码。</li><li><code>mvn test</code>: 运行项目测试</li><li><code>mvn package</code>: 打包项目到 <code>target</code> 目录下。包括: <code>jar</code>, <code>war</code>, <code>class</code> 文件。</li><li><code>mvn install</code>: 在前面打包项目完成后，复制一份打包成果，到 <code>本地仓库</code>。默认是： <code>~/.m2/repository</code>。这样该项目包，就可以用作其他本地项目的依赖。</li><li><code>mvn deploy</code>: 将项目打包并部署到远程Maven仓库，适用于发布发布版本。</li></ol><h3 id="依赖管理命令" tabindex="-1"><a class="header-anchor" href="#依赖管理命令"><span>依赖管理命令</span></a></h3><ul><li>​mvn dependency:list</li><li>mvn dependency:tree​</li><li>mvn dependency:get</li><li>mvn dependency:purge-local-repository: 清空本地仓库中的所有依赖。会清空本地仓库的所有内容，强制重新从远程仓库下载依赖，并将它们安装到本地仓库。建议在使用之前备份本地仓库的重要内容。</li></ul><h2 id="常见命令组合" tabindex="-1"><a class="header-anchor" href="#常见命令组合"><span>常见命令组合</span></a></h2><ul><li><code>mvn clean package</code>: 按顺序执行 <code>clean</code> -&gt; <code>complie</code> -&gt; <code>test</code> -&gt; <code>package</code> 三个阶段</li><li><code>mvn clean install</code>: 在 <code>mvn clean package</code> 基础上，新增 <code>install</code> 阶段</li><li><code>mvn clean deploy</code>: 在 <code>mvn clean install</code> 基础上，新增 <code>deploy</code> 阶段</li></ul><p>注：先执行 <code>clean</code>，确保每次构建都是全新的，避免因残留文件导致的问题。</p><h2 id="常用参数" tabindex="-1"><a class="header-anchor" href="#常用参数"><span>常用参数</span></a></h2><ol><li><code>-Dmaven.test.skip=true</code>: 跳过测试代码的编译和运行。</li><li><code>-DskipTests</code>: 测试代码正常编译，只跳过测试的运行。</li><li><code>-D</code> 和 <code>-P</code> 参数： -D 表示 Properties 属性，而 -P 表示 Profiles 配置文件。</li><li><code>-D开头</code>：-D 表示设置 properties 属性，使用命令行设置属性 -D 模板。</li><li><code>-P开头</code>：-P后面紧接着 <code>profiles</code> 下某个 <code>profile</code> 的 <code>id</code>。</li><li><code>-U</code> 或 <code>--update-snapshots</code>: 强制更新。即使本地仓库已经存在相应版本的依赖项，也会从远程仓库下载最新的版本。</li></ol><p>注：使用 <code>-P</code> 参数激活特定 <code>profile</code>，管理多环境构建。</p><p>示例：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">mvn package -Dmaven.test.skip=true</span>
<span class="line">mvn clean package -Dmaven.test.skip=true</span>
<span class="line"></span>
<span class="line">mvn clean install -Pdev</span>
<span class="line">mvn clean install -Pprod</span>
<span class="line">mvn clean install -Pdev,test</span>
<span class="line"></span>
<span class="line"># 强制刷新依赖</span>
<span class="line"># mvn dependency:purge-local-repository</span>
<span class="line">mvn clean install -U -Dmaven.test.skip=true</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven配置" tabindex="-1"><a class="header-anchor" href="#maven配置"><span>Maven配置</span></a></h2><ul><li><code>全局配置</code>： 在 <code>Maven安装目录</code> 下的 <code>conf/settings.xml</code> 文件，是全局的配置文件。</li><li><code>局部配置</code>：新建或编辑 <code>用户目录</code> 的 <code>.m2/settings.xml</code> 文件，会覆盖全局配置。更改后实时生效，不用重启命令窗口。</li></ul><h3 id="代理设置" tabindex="-1"><a class="header-anchor" href="#代理设置"><span>代理设置</span></a></h3><ul><li>通过配置文件设置Maven的https代理</li></ul><p>在 <code>~/.m2/settings.xml</code> 文件，配置 <code>https</code> 代理。测试发现http和socks代理可能无效。</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proxies</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proxy</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>optional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>active</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>active</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>protocol</span><span class="token punctuation">&gt;</span></span>https<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>protocol</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>host</span><span class="token punctuation">&gt;</span></span>127.0.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>host</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>7890<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nonProxyHosts</span><span class="token punctuation">&gt;</span></span>local.net|some.host.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nonProxyHosts</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>proxy</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>proxies</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>通过环境变量设置Maven的socks代理</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 未验证。</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">MAVEN_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-DsocksProxyHost=127.0.0.1 -DsocksProxyPort=1080&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven仓库" tabindex="-1"><a class="header-anchor" href="#maven仓库"><span>Maven仓库</span></a></h2><ol><li>本地仓库：从远程仓库下载时，会先存在本地仓库，以便下次直接从本地获取，加快构建速度。默认在用户目录下的 <code>.m2/repository</code> 文件夹。</li><li>中央仓库：由 Maven 社区维护的公共仓库，地址是 https://repo.maven.apache.org/maven2/。</li><li>私有仓库和第三方仓库：包含企业私有仓库，特定的开源项目仓库，商业仓库。要配置仓库地址才能使用。</li></ol><h3 id="本地仓库设置" tabindex="-1"><a class="header-anchor" href="#本地仓库设置"><span>本地仓库设置</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&lt;settings&gt;</span>
<span class="line">    &lt;!-- 自定义本地仓库地址 --&gt;</span>
<span class="line">    &lt;localRepository&gt;D:/maven/repo&lt;/localRepository&gt;</span>
<span class="line">    &lt;!-- 其他配置 --&gt;</span>
<span class="line">&lt;/settings&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="镜像仓库设置" tabindex="-1"><a class="header-anchor" href="#镜像仓库设置"><span>镜像仓库设置</span></a></h3><p>国内访问中央仓库可能较慢，可以在 <code>&lt;mirrors&gt;&lt;/mirrors&gt;</code> 标签中添加 <code>mirror</code> 子节点，配置镜像仓库。将所有请求重定向到指定仓库（如阿里云镜像）：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token comment">&lt;!-- settings.xml 示例 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>阿里云公共仓库<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其他镜像地址：</p><ul><li>华为云：https://repo.huaweicloud.com/repository/maven/</li><li>清华大学：https://repo.maven.apache.org/maven2/</li><li>中科院：http://maven.opencas.cn/maven/</li></ul><h3 id="私有仓库设置" tabindex="-1"><a class="header-anchor" href="#私有仓库设置"><span>私有仓库设置</span></a></h3><p>在用户家目录下 <code>.m2/settings.xml</code> 文件，配置私有仓库的账号密码：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token comment">&lt;!-- settings.xml 示例 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>my-private-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在项目源码的 <code>pom.xml</code> 中配置私有仓库：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token comment">&lt;!-- pom.xml 示例 --&gt;</span></span>
<span class="line"><span class="token comment">&lt;!-- 可把maven-releases替换成自己的路径。 --&gt;</span></span>
<span class="line"><span class="token comment">&lt;!--如果使用Nexus搭建私有库，建议使用group类型的聚合仓库下载，而上传发布使用hostd类型仓库。 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>my-private-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://your-repo-url/repository/maven-releases/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!-- &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt; --&gt;</span></span>
<span class="line">        <span class="token comment">&lt;!-- &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt; --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">&lt;!-- 分发管理，在此配置要上传的私有仓库地址：可把maven-releases替换成自己的路径 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>distributionManagement</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>my-private-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://your-repo-url/repository/maven-releases/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>distributionManagement</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后使用 <code>mvn deploy</code> 命令，将打包成果上传到私有仓库。</p><p>提示：​​配置 <code>SCM</code>（版本控制系统）​​：在 <code>pom.xml</code> 添加 <code>&lt;scm&gt;</code> 标签，配置 Git 仓库地址，这是插件自动打标签和提交的基础。保证后面 <code>mvn deploy</code> 生成的Jar包为 <code>releases</code> 而非 <code>snapshots</code>。</p><p>想把私有仓库配置成镜像仓库，覆盖所有对Maven Central 的请求。可如下设置：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token comment">&lt;!-- settings.xml 示例 --&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>my-company-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Company Private Repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://nexus.example.com/repository/maven-releases/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 覆盖所有对 Maven Central 的请求 --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="第三方组件" tabindex="-1"><a class="header-anchor" href="#第三方组件"><span>第三方组件</span></a></h2><p>如果我们要引用一个第三方组件，如 <code>gson</code>，如何确切地获得它的 <code>groupId</code>，<code>artifactId</code>，<code>version</code> ？方法是通过提供仓库搜索服务的网站搜索关键字，找到对应的组件后，直接复制相应的信息。</p><p>推荐的仓库搜索服务网站：</p><ul><li>https://search.maven.org/ <code>推荐</code></li><li>https://central.sonatype.com/</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&lt;dependency&gt;</span>
<span class="line">    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;</span>
<span class="line">    &lt;artifactId&gt;gson&lt;/artifactId&gt;</span>
<span class="line">    &lt;version&gt;2.13.1&lt;/version&gt;</span>
<span class="line">&lt;/dependency&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="搭建nexus私有仓库" tabindex="-1"><a class="header-anchor" href="#搭建nexus私有仓库"><span>搭建Nexus私有仓库</span></a></h2><p>扩展阅读：</p><ul><li>nexus.md: <a class="route-link" href="/easywork/java/nexus.html">Nexus私有仓库</a></li></ul><p>Nexus 是 Sonatype 公司开发的流行仓库管理工具，支持 Maven、npm、Docker 等多种格式的私有仓库管理。</p><p>也可以通过 HTTP 服务器（如 Nginx、Apache）直接托管 Maven 依赖文件，无需专用工具。但不推荐。</p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>依赖冲突：多个依赖引用了同一库的不同版本，可能会导致冲突。通过 <code>mvn dependency:tree</code> 查看依赖树。</li><li>清理本地仓库: 本地仓库可能积累大量无用依赖，定期清理（如删除 ~/.m2/repository）可以节省空间。</li></ol><hr><blockquote><p>Maven 常用命令详解 https://juejin.cn/post/7454109435877867539 Maven使用教程 https://blog.csdn.net/weixin_48958956/article/details/147802899 Maven基础 https://liaoxuefeng.com/books/java/maven/index.html Maven构建生命周期 https://blog.csdn.net/m0_62574889/article/details/130640329</p></blockquote></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新: </span><time class="meta-item-info" datetime="2025-10-20T11:10:54.000Z" data-allow-mismatch>2025/10/20 11:10</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: whq78164@gmail.com">Hankin</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/easywork/assets/app-BzD7cbQj.js" defer></script>
  </body>
</html>
